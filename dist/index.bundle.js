/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e={515:(t,e,n)=>{n.r(e),n.d(e,{default:()=>x});var o="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function r(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent&&t.attachEvent("on".concat(e),(function(){n(window.event)}))}function i(t,e){for(var n=e.slice(0,e.length-1),o=0;o<n.length;o++)n[o]=t[n[o].toLowerCase()];return n}function a(t){"string"!=typeof t&&(t="");for(var e=(t=t.replace(/\s/g,"")).split(","),n=e.lastIndexOf("");n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}for(var s={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":o?173:189,"=":o?61:187,";":o?59:186,"'":222,"[":219,"]":221,"\\":220},c={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},u={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},l={16:!1,18:!1,17:!1,91:!1},f={},p=1;p<20;p++)s["f".concat(p)]=111+p;var d=[],h=!1,y="all",g=[],_=function(t){return s[t.toLowerCase()]||c[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function m(t){y=t||"all"}function v(){return y||"all"}var O=function(t){var e=t.key,n=t.scope,o=t.method,r=t.splitKey,s=void 0===r?"+":r;a(e).forEach((function(t){var e=t.split(s),r=e.length,a=e[r-1],u="*"===a?"*":_(a);if(f[u]){n||(n=v());var l=r>1?i(c,e):[];f[u]=f[u].filter((function(t){return!((!o||t.method===o)&&t.scope===n&&function(t,e){for(var n=t.length>=e.length?t:e,o=t.length>=e.length?e:t,r=!0,i=0;i<n.length;i++)-1===o.indexOf(n[i])&&(r=!1);return r}(t.mods,l))}))}}))};function w(t,e,n,o){var r;if(e.element===o&&(e.scope===n||"all"===e.scope)){for(var i in r=e.mods.length>0,l)Object.prototype.hasOwnProperty.call(l,i)&&(!l[i]&&e.mods.indexOf(+i)>-1||l[i]&&-1===e.mods.indexOf(+i))&&(r=!1);(0!==e.mods.length||l[16]||l[18]||l[17]||l[91])&&!r&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function b(t,e){var n=f["*"],o=t.keyCode||t.which||t.charCode;if(x.filter.call(this,t)){if(93!==o&&224!==o||(o=91),-1===d.indexOf(o)&&229!==o&&d.push(o),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(e){var n=u[e];t[e]&&-1===d.indexOf(n)?d.push(n):!t[e]&&d.indexOf(n)>-1?d.splice(d.indexOf(n),1):"metaKey"===e&&t[e]&&3===d.length&&(t.ctrlKey||t.shiftKey||t.altKey||(d=d.slice(d.indexOf(n))))})),o in l){for(var r in l[o]=!0,c)c[r]===o&&(x[r]=!0);if(!n)return}for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(l[i]=t[u[i]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(-1===d.indexOf(17)&&d.push(17),-1===d.indexOf(18)&&d.push(18),l[17]=!0,l[18]=!0);var a=v();if(n)for(var s=0;s<n.length;s++)n[s].scope===a&&("keydown"===t.type&&n[s].keydown||"keyup"===t.type&&n[s].keyup)&&w(t,n[s],a,e);if(o in f)for(var p=0;p<f[o].length;p++)if(("keydown"===t.type&&f[o][p].keydown||"keyup"===t.type&&f[o][p].keyup)&&f[o][p].key){for(var h=f[o][p],y=h.splitKey,g=h.key.split(y),m=[],O=0;O<g.length;O++)m.push(_(g[O]));m.sort().join("")===d.sort().join("")&&w(t,h,a,e)}}}function x(t,e,n){d=[];var o=a(t),s=[],u="all",p=document,y=0,m=!1,v=!0,O="+",w=!1;for(void 0===n&&"function"==typeof e&&(n=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(u=e.scope),e.element&&(p=e.element),e.keyup&&(m=e.keyup),void 0!==e.keydown&&(v=e.keydown),void 0!==e.capture&&(w=e.capture),"string"==typeof e.splitKey&&(O=e.splitKey)),"string"==typeof e&&(u=e);y<o.length;y++)s=[],(t=o[y].split(O)).length>1&&(s=i(c,t)),(t="*"===(t=t[t.length-1])?"*":_(t))in f||(f[t]=[]),f[t].push({keyup:m,keydown:v,scope:u,mods:s,shortcut:o[y],method:n,key:o[y],splitKey:O,element:p});void 0!==p&&!function(t){return g.indexOf(t)>-1}(p)&&window&&(g.push(p),r(p,"keydown",(function(t){b(t,p)}),w),h||(h=!0,r(window,"focus",(function(){d=[]}),w)),r(p,"keyup",(function(t){b(t,p),function(t){var e=t.keyCode||t.which||t.charCode,n=d.indexOf(e);if(n>=0&&d.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&d.splice(0,d.length),93!==e&&224!==e||(e=91),e in l)for(var o in l[e]=!1,c)c[o]===e&&(x[o]=!1)}(t)}),w))}var C={getPressedKeyString:function(){return d.map((function(t){return e=t,Object.keys(s).find((function(t){return s[t]===e}))||function(t){return Object.keys(c).find((function(e){return c[e]===t}))}(t)||String.fromCharCode(t);var e}))},setScope:m,getScope:v,deleteScope:function(t,e){var n,o;for(var r in t||(t=v()),f)if(Object.prototype.hasOwnProperty.call(f,r))for(n=f[r],o=0;o<n.length;)n[o].scope===t?n.splice(o,1):o++;v()===t&&m(e||"all")},getPressedKeyCodes:function(){return d.slice(0)},isPressed:function(t){return"string"==typeof t&&(t=_(t)),-1!==d.indexOf(t)},filter:function(t){var e=t.target||t.srcElement,n=e.tagName,o=!0;return!e.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||e.readOnly)||(o=!1),o},trigger:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(f).forEach((function(n){f[n].filter((function(n){return n.scope===e&&n.shortcut===t})).forEach((function(t){t&&t.method&&t.method()}))}))},unbind:function(t){if(void 0===t)Object.keys(f).forEach((function(t){return delete f[t]}));else if(Array.isArray(t))t.forEach((function(t){t.key&&O(t)}));else if("object"==typeof t)t.key&&O(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];var r=n[0],i=n[1];"function"==typeof r&&(i=r,r=""),O({key:t,scope:r,method:i,splitKey:"+"})}},keyMap:s,modifier:c,modifierMap:u};for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&(x[k]=C[k]);if("undefined"!=typeof window){var P=window.hotkeys;x.noConflict=function(t){return t&&window.hotkeys===x&&(window.hotkeys=P),x},window.hotkeys=x}},221:function(t,e){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){var o=t.call(this,n)||this;return e.NAME="game"+e.NUM++,o.view.style.width="100%",document.body.prepend(o.view),o}return o(e,t),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.screen.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.screen.height},enumerable:!1,configurable:!0}),e.NAME="game",e.NUM=0,e}(PIXI.Application);e.default=r},738:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.Facade,a=n(221),s=n(414),c=n(312),u=function(t){function e(e){var n=t.call(this,e)||this;return n._game=null,n}return r(e,t),e.getInstance=function(t){return null==t?null:(null==i.instanceMap[t]&&(i.instanceMap[t]=new e(t)),i.instanceMap[t])},e.prototype.initializeModel=function(){t.prototype.initializeModel.call(this)},e.prototype.initializeView=function(){t.prototype.initializeView.call(this)},e.prototype.initializeController=function(){t.prototype.initializeController.call(this),this.registerCommand(e.STARTUP,c.default)},e.prototype.startup=function(){var t=document.documentElement.clientWidth||document.body.clientWidth,n=document.documentElement.clientHeight||document.body.clientHeight,o=n>t?n/t*640:t/n*640;this.game=new a.default({width:640,height:o,backgroundColor:1087931}),this.sendNotification(e.STARTUP,this.game),this.removeCommand(e.STARTUP),this.sendNotification(s.default.TO_LOADING,{from:null})},e.prototype.destory=function(){this.game&&(this.game.destroy(!0),this.game=null),window.TweenMax.killAll()},Object.defineProperty(e.prototype,"game",{get:function(){return this._game},set:function(t){this._game=t},enumerable:!1,configurable:!0}),e.STARTUP="startup",e.instance=null,e}(i);e.default=u},25:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(330),s=n(515),c=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(t){console.log("SceneCommand notification:",t);var n=t.getName(),o=t.getBody(),r=this.facade.retrieveProxy(a.default.NAME);switch(n){case e.GAME_START:r.resetGameData(),setInterval((function(){r.pause||(r.move(),r.check())}),1e3/15),(0,s.default)("up,down,left,right,space",(function(t,e){switch(e.key){case"up":r.angle=180;break;case"down":r.angle=0;break;case"left":r.angle=-90;break;case"right":r.angle=90;break;case"space":r.pause=!r.pause}}));break;case e.CHANGE_ANGLE:r.angle=o;case e.GAME_OVER:}},e.GAME_START="game_start",e.GAME_OVER="game_over",e.CHANGE_ANGLE="change_angle",e}(i);e.default=c},414:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(343),s=n(169),c=n(977),u=n(330),l=n(25),f=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(t){console.log("SceneCommand notification:",t);var n=this.facade.game,o=t.getName(),r=t.getBody().from;switch(r&&r instanceof a.default&&(r.destroy(),r.removeAllChildren(),r.removeThis()),o){case e.TO_LOADING:var i=this.facade.retrieveMediator(s.default.NAME).loadingScene;n.stage.addChild(i),i.init();break;case e.TO_GAME:var f=this.facade.retrieveProxy(u.default.NAME),p=this.facade.retrieveMediator(c.default.NAME).gameScene;n.stage.addChild(p),p.init(f),this.sendNotification(l.default.GAME_START)}},e.TO_LOADING="to_loading",e.TO_GAME="to_game",e}(i);e.default=f},61:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(414),s=n(25),c=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(){this.facade.registerCommand(a.default.TO_LOADING,a.default),this.facade.registerCommand(a.default.TO_GAME,a.default),this.facade.registerCommand(s.default.GAME_START,s.default),this.facade.registerCommand(s.default.GAME_OVER,s.default),this.facade.registerCommand(s.default.CHANGE_ANGLE,s.default)},e}(i);e.default=c},377:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(330),s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(t){var e=t.getBody();this.facade.registerProxy(new a.default(e))},e}(i);e.default=s},312:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.MacroCommand,a=n(377),s=n(778),c=n(61),u=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.initializeMacroCommand=function(){this.addSubCommand(a.default),this.addSubCommand(s.default),this.addSubCommand(c.default)},e}(i);e.default=u},778:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(380),s=n(169),c=n(282),u=n(977),l=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(t){var e=t.getBody(),n=new a.default(e);this.facade.registerMediator(new s.default(n));var o=new c.default(e);this.facade.registerMediator(new u.default(o))},e}(i);e.default=l},977:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.Mediator,a=n(330),s=n(25),c=function(t){function e(n){var o=t.call(this,e.NAME,n)||this;return o.gameScene.on("CHANGE_ANGLE",(function(t){return o.sendNotification(s.default.CHANGE_ANGLE,t)})),o}return r(e,t),e.prototype.listNotificationInterests=function(){return[a.default.ADD_BEAN,a.default.UPDATE_LOCATION,a.default.HIT]},e.prototype.handleNotification=function(t){var e=t.getName(),n=t.getBody();switch(t.getType(),e){case a.default.UPDATE_LOCATION:this.gameScene.renderSnake(n);break;case a.default.HIT:this.gameScene.removeBean(n);break;case a.default.ADD_BEAN:this.gameScene.addBean(n)}},Object.defineProperty(e.prototype,"gameScene",{get:function(){return this.viewComponent},enumerable:!1,configurable:!0}),e.NAME="game_scene_mediator",e}(i);e.default=c},169:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.Mediator,a=n(414),s=function(t){function e(n){var o=t.call(this,e.NAME,n)||this;return o.loadingScene.on("init_complete",o.initComplete,o),o}return r(e,t),e.prototype.initComplete=function(){var t=this,e=new PIXI.Loader;e.add(["./resources/images/snake-body1.png","./resources/images/snake-body2.png","./resources/images/snake-head.png","./resources/images/intel-home1-01.png","./resources/images/intel-home1-02.png"]),e.once("complete",(function(){setTimeout((function(){t.sendNotification(a.default.TO_GAME,{from:t.loadingScene})}),500)})),e.on("progress",(function(e){console.log("加载百分比"+e.progress+"%"),t.loadingScene.setProgress(e.progress)})),e.load()},Object.defineProperty(e.prototype,"loadingScene",{get:function(){return this.viewComponent},enumerable:!1,configurable:!0}),e.NAME="load_scene_mediator",e}(i);e.default=s},343:function(t,e){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var n=t.call(this)||this;return n.game=null,n.stageWidth=0,n.stageHeight=0,n.game=e,n.stageWidth=e.stageWidth,n.stageHeight=e.stageHeight,n}return o(e,t),e.prototype.init=function(t){},e.prototype.destroy=function(){},e.prototype.removeAllChildren=function(t){void 0===t&&(t=this);var e=t.children;if(e&&e.length>0)for(var n=e.length-1;n>=0;n--){var o=e[n];this.removeAllChildren(o),o.parent&&o.parent.removeChild(o)}},e.prototype.removeThis=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);e.default=r},282:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=PIXI.Container,a=PIXI.Graphics,s=PIXI.Sprite,c=n(343),u=n(203),l=function(t){function e(e){var n=t.call(this,e)||this;return n.snakeContainer=null,n}return r(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e);var n=new i;this.addChild(n);var o=new a;n.addChild(o);for(var r=0;r<30;r++)for(var s=0;s<10;s++){var c=64*s,l=64*r;o.beginFill(0,r%2==0?s%2==0?.6:.4:s%2!=0?.6:.4),o.moveTo(c,l),o.lineTo(c+64,l),o.lineTo(c+64,l+64),o.lineTo(c,l+64),o.closePath()}var f=new u.default;this.addChild(f),f.init(),f.x=this.stageWidth/2,f.y=this.stageHeight-200},e.prototype.renderSnake=function(t){this.snakeContainer&&this.snakeContainer.parent&&this.snakeContainer.parent.removeChild(this.snakeContainer),this.snakeContainer=new i,this.addChild(this.snakeContainer);for(var e=t.length-1;e>=0;e--){var n=t[e],o=n.x,r=n.y,a="./resources/images/snake-".concat(0===e?"head":e%2==0?"body2":"body1",".png"),c=s.from(a);c.anchor.set(.5,.5),c.x=o,c.y=r,this.snakeContainer.addChild(c)}},e.prototype.addBean=function(t){var e=t.x,n=t.y,o=t.id,r="./resources/images/animal".concat(parseInt(String(8*Math.random()+1)),".png"),i=s.from(r);i.anchor.set(.5,.5),i.x=e,i.y=n,i.name=o,this.addChild(i)},e.prototype.removeBean=function(t){var e=this.getChildByName(t);e&&this.removeChild(e)},e.NAME="game_scene",e}(c.default);e.default=l},203:function(t,e){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=PIXI.Container,i=PIXI.Sprite,a=function(t){function e(){var e,n,o=t.call(this)||this;o.dragging=!1;var r=o;function a(t){r.dragging=!0,r.data=t.data,n.alpha=.5;var e=r.parent.game.stage;e.interactive=!0,e.on("pointermove",c)}function s(t){r.dragging=!1,r.data=null,n.alpha=1,n.position.x=0,n.position.y=0;var e=r.parent.game.stage;e.interactive=!1,e.off("pointermove",c)}function c(t){if(r.dragging){var e=r.data.getLocalPosition(n.parent),o=e.x,i=e.y;n.x=o,n.y=i;var a=function(t,e,n,o){var r=n-0,i=0-o,a=r/Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),s=Math.acos(a);return o<0&&(s=-s),s}(0,0,n.position.x,n.position.y),s=parseInt(String(180/Math.PI*a));r.parent.emit("CHANGE_ANGLE",s);var c=Math.pow(0-o,2),u=Math.pow(0-i,2);Math.sqrt(c+u)}}return o.rockerCircleR=100,o.smallRockerCircleR=55,o.init=function(){(e=i.from("./resources/images/intel-home1-01.png")).x=0,e.y=0,e.width=e.height=200,e.anchor.x=e.anchor.y=.5,this.addChild(e),n=i.from("./resources/images/intel-home1-02.png"),this.addChild(n),n.width=n.height=110,n.anchor.x=n.anchor.y=.5,e.interactive=!0,e.buttonMode=!0,e.on("pointerdown",a).on("pointerup",s).on("pointerupoutside",s)},o}return o(e,t),e}(r);e.default=a},380:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(343),a=PIXI.Text,s=PIXI.Sprite,c=PIXI.Container,u=PIXI.Graphics,l=function(t){function e(e){var n=t.call(this,e)||this;return n._text=null,n._loading=null,n}return r(e,t),e.prototype.init=function(){this.addChild(s.from("./resources/images/sp_main_background.jpg"));var t=new c;this.addChild(t),t.x=(this.stageWidth-300)/2,t.y=this.stageHeight-300;var e=s.from("./resources/images/loading_bg.png");t.addChild(e);var n=new u;n.beginFill(16711680,1),n.drawRoundedRect(0,0,300,53,30),n.endFill(),t.addChild(n);var o=s.from("./resources/images/loading.png");t.addChild(o),o.anchor.set(1,0),o.y=0,o.mask=n,this._loading=o;var r=new a("加载中...",{fill:"#FFFFFF"});this.addChild(r),r.anchor.set(.5,.5),r.x=this.stageWidth/2,r.y=this.stageHeight-300-30,this._text=r,this.emit("init_complete")},e.prototype.setProgress=function(t){window.TweenMax.to(this._loading,.3,{x:t/100*300}),this._text.text="".concat(parseInt(t),"%")},e.NAME="loading_scene",e}(i.default);e.default=l},330:function(t,e){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){var o=t.call(this,e.NAME)||this;return o.beans=[],o.snake=[],o.angle=90,o.speed=20,o.pause=!1,o.game=null,o.game=n,o}return o(e,t),e.prototype.resetGameData=function(){this.snake=[{x:190,y:190},{x:180,y:180},{x:170,y:170},{x:160,y:160},{x:150,y:150},{x:140,y:140},{x:130,y:130},{x:120,y:120},{x:110,y:110},{x:100,y:100}];for(var t=0;t<50;t++)this.addBean()},e.prototype.move=function(){for(var t=this.snake.length-1;t>0;t--)this.snake[t].x=this.snake[t-1].x,this.snake[t].y=this.snake[t-1].y;this.snake[0].x+=Math.cos(this.angle*Math.PI/180)*this.speed,this.snake[0].y+=Math.sin(this.angle*Math.PI/180)*this.speed,this.snake[0].x>this.game.stageWidth?this.snake[0].x=0:this.snake[0].x<0&&(this.snake[0].x=this.game.stageWidth),this.snake[0].y>this.game.stageHeight?this.snake[0].y=0:this.snake[0].y<0&&(this.snake[0].y=this.game.stageHeight),this.sendNotification(e.UPDATE_LOCATION,this.snake)},e.prototype.check=function(){for(var t=this.snake[0],n=t.x,o=t.y,r=0;r<this.beans.length;r++){var a=this.beans[r],s=a.x,c=a.y,u=a.id;if(i(n,o,s,c)<30)return this.beans.splice(r,1),this.sendNotification(e.HIT,u),this.addSnakeBody(),void this.addBean()}},e.prototype.addSnakeBody=function(){var t={x:this.snake[this.snake.length-1].x,y:this.snake[this.snake.length-1].y};this.snake.push(t)},e.prototype.addBean=function(){var t={x:Math.random()*this.game.stageWidth,y:Math.random()*this.game.stageHeight,id:parseInt(String(1e5*Math.random()))};this.beans.push(t),this.sendNotification(e.ADD_BEAN,t)},e.NAME="game_proxy",e.UPDATE_LOCATION="update_location",e.HIT="hit",e.ADD_BEAN="add_bean",e}(puremvc.Proxy);function i(t,e,n,o){var r=t,i=e,a=n,s=o;return Math.abs(Math.sqrt(Math.pow(a-r,2)+Math.pow(s-i,2)))}e.default=r}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,o),i.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t=o(221),o(738).default.getInstance(t.default.NAME).startup()})();