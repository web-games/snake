/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e={515:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var o="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function r(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent&&t.attachEvent("on".concat(e),(function(){n(window.event)}))}function i(t,e){for(var n=e.slice(0,e.length-1),o=0;o<n.length;o++)n[o]=t[n[o].toLowerCase()];return n}function a(t){"string"!=typeof t&&(t="");for(var e=(t=t.replace(/\s/g,"")).split(","),n=e.lastIndexOf("");n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}for(var c={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":o?173:189,"=":o?61:187,";":o?59:186,"'":222,"[":219,"]":221,"\\":220},s={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},u={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},l={16:!1,18:!1,17:!1,91:!1},f={},p=1;p<20;p++)c["f".concat(p)]=111+p;var d=[],h=!1,y="all",g=[],_=function(t){return c[t.toLowerCase()]||s[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function v(t){y=t||"all"}function m(){return y||"all"}var O=function(t){var e=t.key,n=t.scope,o=t.method,r=t.splitKey,c=void 0===r?"+":r;a(e).forEach((function(t){var e=t.split(c),r=e.length,a=e[r-1],u="*"===a?"*":_(a);if(f[u]){n||(n=m());var l=r>1?i(s,e):[];f[u]=f[u].filter((function(t){return!((!o||t.method===o)&&t.scope===n&&function(t,e){for(var n=t.length>=e.length?t:e,o=t.length>=e.length?e:t,r=!0,i=0;i<n.length;i++)-1===o.indexOf(n[i])&&(r=!1);return r}(t.mods,l))}))}}))};function w(t,e,n,o){var r;if(e.element===o&&(e.scope===n||"all"===e.scope)){for(var i in r=e.mods.length>0,l)Object.prototype.hasOwnProperty.call(l,i)&&(!l[i]&&e.mods.indexOf(+i)>-1||l[i]&&-1===e.mods.indexOf(+i))&&(r=!1);(0!==e.mods.length||l[16]||l[18]||l[17]||l[91])&&!r&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function C(t,e){var n=f["*"],o=t.keyCode||t.which||t.charCode;if(b.filter.call(this,t)){if(93!==o&&224!==o||(o=91),-1===d.indexOf(o)&&229!==o&&d.push(o),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(e){var n=u[e];t[e]&&-1===d.indexOf(n)?d.push(n):!t[e]&&d.indexOf(n)>-1?d.splice(d.indexOf(n),1):"metaKey"===e&&t[e]&&3===d.length&&(t.ctrlKey||t.shiftKey||t.altKey||(d=d.slice(d.indexOf(n))))})),o in l){for(var r in l[o]=!0,s)s[r]===o&&(b[r]=!0);if(!n)return}for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(l[i]=t[u[i]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(-1===d.indexOf(17)&&d.push(17),-1===d.indexOf(18)&&d.push(18),l[17]=!0,l[18]=!0);var a=m();if(n)for(var c=0;c<n.length;c++)n[c].scope===a&&("keydown"===t.type&&n[c].keydown||"keyup"===t.type&&n[c].keyup)&&w(t,n[c],a,e);if(o in f)for(var p=0;p<f[o].length;p++)if(("keydown"===t.type&&f[o][p].keydown||"keyup"===t.type&&f[o][p].keyup)&&f[o][p].key){for(var h=f[o][p],y=h.splitKey,g=h.key.split(y),v=[],O=0;O<g.length;O++)v.push(_(g[O]));v.sort().join("")===d.sort().join("")&&w(t,h,a,e)}}}function b(t,e,n){d=[];var o=a(t),c=[],u="all",p=document,y=0,v=!1,m=!0,O="+",w=!1;for(void 0===n&&"function"==typeof e&&(n=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(u=e.scope),e.element&&(p=e.element),e.keyup&&(v=e.keyup),void 0!==e.keydown&&(m=e.keydown),void 0!==e.capture&&(w=e.capture),"string"==typeof e.splitKey&&(O=e.splitKey)),"string"==typeof e&&(u=e);y<o.length;y++)c=[],(t=o[y].split(O)).length>1&&(c=i(s,t)),(t="*"===(t=t[t.length-1])?"*":_(t))in f||(f[t]=[]),f[t].push({keyup:v,keydown:m,scope:u,mods:c,shortcut:o[y],method:n,key:o[y],splitKey:O,element:p});void 0!==p&&!function(t){return g.indexOf(t)>-1}(p)&&window&&(g.push(p),r(p,"keydown",(function(t){C(t,p)}),w),h||(h=!0,r(window,"focus",(function(){d=[]}),w)),r(p,"keyup",(function(t){C(t,p),function(t){var e=t.keyCode||t.which||t.charCode,n=d.indexOf(e);if(n>=0&&d.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&d.splice(0,d.length),93!==e&&224!==e||(e=91),e in l)for(var o in l[e]=!1,s)s[o]===e&&(b[o]=!1)}(t)}),w))}var M={getPressedKeyString:function(){return d.map((function(t){return e=t,Object.keys(c).find((function(t){return c[t]===e}))||function(t){return Object.keys(s).find((function(e){return s[e]===t}))}(t)||String.fromCharCode(t);var e}))},setScope:v,getScope:m,deleteScope:function(t,e){var n,o;for(var r in t||(t=m()),f)if(Object.prototype.hasOwnProperty.call(f,r))for(n=f[r],o=0;o<n.length;)n[o].scope===t?n.splice(o,1):o++;m()===t&&v(e||"all")},getPressedKeyCodes:function(){return d.slice(0)},isPressed:function(t){return"string"==typeof t&&(t=_(t)),-1!==d.indexOf(t)},filter:function(t){var e=t.target||t.srcElement,n=e.tagName,o=!0;return!e.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||e.readOnly)||(o=!1),o},trigger:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(f).forEach((function(n){f[n].filter((function(n){return n.scope===e&&n.shortcut===t})).forEach((function(t){t&&t.method&&t.method()}))}))},unbind:function(t){if(void 0===t)Object.keys(f).forEach((function(t){return delete f[t]}));else if(Array.isArray(t))t.forEach((function(t){t.key&&O(t)}));else if("object"==typeof t)t.key&&O(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];var r=n[0],i=n[1];"function"==typeof r&&(i=r,r=""),O({key:t,scope:r,method:i,splitKey:"+"})}},keyMap:c,modifier:s,modifierMap:u};for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(b[P]=M[P]);if("undefined"!=typeof window){var x=window.hotkeys;b.noConflict=function(t){return t&&window.hotkeys===b&&(window.hotkeys=x),b},window.hotkeys=b}},221:function(t,e){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){var o=t.call(this,n)||this;return e.NAME="game"+e.COUNT++,o.view.style.width="100%",document.body.prepend(o.view),o}return o(e,t),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.screen.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.screen.height},enumerable:!1,configurable:!0}),e.NAME="SNAKE",e.COUNT=0,e}(PIXI.Application);e.default=r},738:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.Facade,a=n(221),c=n(414),s=n(312),u=function(t){function e(e){var n=t.call(this,e)||this;return n._game=null,n}return r(e,t),e.getInstance=function(t){return null==t?null:(null==i.instanceMap[t]&&(i.instanceMap[t]=new e(t)),i.instanceMap[t])},e.prototype.initializeModel=function(){t.prototype.initializeModel.call(this)},e.prototype.initializeView=function(){t.prototype.initializeView.call(this)},e.prototype.initializeController=function(){t.prototype.initializeController.call(this),this.registerCommand(e.STARTUP,s.default)},e.prototype.startup=function(){var t=document.documentElement.clientWidth||document.body.clientWidth,n=document.documentElement.clientHeight||document.body.clientHeight,o=n>t?n/t*640:t/n*640;this.game=new a.default({width:640,height:o,backgroundColor:1087931}),this.sendNotification(e.STARTUP,this.game),this.removeCommand(e.STARTUP),this.sendNotification(c.default.TO_LOADING,{from:null})},e.prototype.destory=function(){this.game&&(this.game.destroy(!0),this.game=null),window.TweenMax.killAll()},Object.defineProperty(e.prototype,"game",{get:function(){return this._game},set:function(t){this._game=t},enumerable:!1,configurable:!0}),e.STARTUP="startup",e.instance=null,e}(i);e.default=u},25:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(330),c=n(515),s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(t){console.log("SceneCommand notification:",t);var n=t.getName(),o=t.getBody(),r=this.facade.retrieveProxy(a.default.NAME);switch(n){case e.GAME_START:r.resetGameData(),setInterval((function(){r.pause||(r.move(),r.check())}),200),(0,c.default)("up,down,left,right,space",(function(t,e){switch(e.key){case"up":r.current_direction=a.Direction.Up;break;case"down":r.current_direction=a.Direction.Down;break;case"left":r.current_direction=a.Direction.Left;break;case"right":r.current_direction=a.Direction.Right;break;case"space":r.pause=!r.pause}}));break;case e.CHANGE_DIRECTION:r.current_direction!==o&&(r.current_direction=o);case e.GAME_OVER:}},e.GAME_START="game_start",e.GAME_OVER="game_over",e.CHANGE_DIRECTION="change_angle",e}(i);e.default=s},414:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(158),c=n(169),s=n(977),u=n(330),l=n(25),f=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(t){console.log("SceneCommand notification:",t);var n=this.facade.game,o=t.getName(),r=t.getBody().from;switch(r&&r instanceof a.default&&(r.destroy(),r.removeAllChildren(),r.removeThis()),o){case e.TO_LOADING:var i=this.facade.retrieveMediator(c.default.NAME).loadingScene;n.stage.addChild(i),i.init();break;case e.TO_GAME:var f=this.facade.retrieveProxy(u.default.NAME),p=this.facade.retrieveMediator(s.default.NAME).gameScene;n.stage.addChild(p),p.init(f),this.sendNotification(l.default.GAME_START)}},e.TO_LOADING="to_loading",e.TO_GAME="to_game",e}(i);e.default=f},61:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(414),c=n(25),s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(){this.facade.registerCommand(a.default.TO_LOADING,a.default),this.facade.registerCommand(a.default.TO_GAME,a.default),this.facade.registerCommand(c.default.GAME_START,c.default),this.facade.registerCommand(c.default.GAME_OVER,c.default),this.facade.registerCommand(c.default.CHANGE_DIRECTION,c.default)},e}(i);e.default=s},377:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(330),c=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(t){var e=t.getBody();this.facade.registerProxy(new a.default(e))},e}(i);e.default=c},312:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.MacroCommand,a=n(377),c=n(778),s=n(61),u=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.initializeMacroCommand=function(){this.addSubCommand(a.default),this.addSubCommand(c.default),this.addSubCommand(s.default)},e}(i);e.default=u},778:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.SimpleCommand,a=n(323),c=n(169),s=n(400),u=n(977),l=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.execute=function(t){var e=t.getBody(),n=new a.default(e);this.facade.registerMediator(new c.default(n));var o=new s.default(e);this.facade.registerMediator(new u.default(o))},e}(i);e.default=l},977:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.Mediator,a=n(330),c=n(25),s=function(t){function e(n){var o=t.call(this,e.NAME,n)||this;return o.gameScene.on(c.default.CHANGE_DIRECTION,(function(t){return o.sendNotification(c.default.CHANGE_DIRECTION,t)})),o}return r(e,t),e.prototype.listNotificationInterests=function(){return[a.default.ADD_BEAN,a.default.UPDATE_LOCATION,a.default.HIT]},e.prototype.handleNotification=function(t){var e=t.getName(),n=t.getBody();switch(t.getType(),e){case a.default.UPDATE_LOCATION:this.gameScene.renderSnake(n);break;case a.default.HIT:this.gameScene.removeBean(n);break;case a.default.ADD_BEAN:this.gameScene.addBean(n)}},Object.defineProperty(e.prototype,"gameScene",{get:function(){return this.viewComponent},enumerable:!1,configurable:!0}),e.NAME="game_scene_mediator",e}(i);e.default=s},169:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=puremvc.Mediator,a=n(414),c=function(t){function e(n){var o=t.call(this,e.NAME,n)||this;return o.loadingScene.on("init_complete",o.initComplete,o),o}return r(e,t),e.prototype.initComplete=function(){var t=this,e=new PIXI.Loader;e.add(["./resources/images/snake-body1.png","./resources/images/snake-body2.png","./resources/images/snake-head.png","./resources/images/intel-home1-01.png","./resources/images/intel-home1-02.png"]),e.once("complete",(function(){setTimeout((function(){t.sendNotification(a.default.TO_GAME,{from:t.loadingScene})}),500)})),e.on("progress",(function(e){console.log("加载百分比"+e.progress+"%"),t.loadingScene.setProgress(e.progress)})),e.load()},Object.defineProperty(e.prototype,"loadingScene",{get:function(){return this.viewComponent},enumerable:!1,configurable:!0}),e.NAME="load_scene_mediator",e}(i);e.default=c},158:function(t,e){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var n=t.call(this)||this;return n.game=null,n.stageWidth=0,n.stageHeight=0,n.game=e,n.stageWidth=e.stageWidth,n.stageHeight=e.stageHeight,n}return o(e,t),e.prototype.init=function(t){},e.prototype.destroy=function(){},e.prototype.removeAllChildren=function(t){void 0===t&&(t=this);var e=t.children;if(e&&e.length>0)for(var n=e.length-1;n>=0;n--){var o=e[n];this.removeAllChildren(o),o.parent&&o.parent.removeChild(o)}},e.prototype.removeThis=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);e.default=r},852:function(t,e){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=PIXI.Container,i=PIXI.Sprite,a=function(t){function e(e,n,o){var r=t.call(this)||this;r.id=null,r.id=o;var a="./resources/images/animal".concat(parseInt(String(7*Math.random()+2)),".png"),c=i.from(a);return c.anchor.set(.5,.5),c.scale.set(.5,.5),c.x=e,c.y=n,c.name=o,r.addChild(c),r}return o(e,t),e}(r);e.default=a},400:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=PIXI.Container,a=PIXI.Sprite,c=n(158),s=n(331),u=n(852),l=n(108),f=n(263),p=function(t){function e(e){var n=t.call(this,e)||this;return n.snakeContainer=null,n.animalContainer=null,n}return r(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e);var n=new i;this.addChild(n),this.animalContainer=n,this.initRenderGrid(),this.initRenderRocker()},e.prototype.initRenderGrid=function(){l.MapConfig.rows,l.MapConfig.cols,l.MapConfig.gridWidth,l.MapConfig.gridHeight;for(var t=l.MapConfig.mapData,e=0;e<t.length;e++)for(var n=t[e],o=0;o<n.length;o++){var r=n[o],i=new f.default(e,o,r);this.animalContainer.addChild(i)}},e.prototype.initRenderRocker=function(){var t=new s.default;this.addChild(t),t.init(),t.x=this.stageWidth/2,t.y=this.stageHeight-200},e.prototype.renderSnake=function(t){this.snakeContainer&&this.snakeContainer.parent&&this.snakeContainer.parent.removeChild(this.snakeContainer),this.snakeContainer=new i,this.addChild(this.snakeContainer);for(var e=t.length-1;e>=0;e--){var n=t[e],o=n.row,r=n.col*l.MapConfig.gridHeight+l.MapConfig.gridHeight/2,c=o*l.MapConfig.gridWidth+l.MapConfig.gridWidth/2,s="./resources/images/snake-".concat(0===e?"head":e%2==0?"body2":"body1",".png"),u=a.from(s);u.scale.set(.5,.5),u.anchor.set(.5,.5),u.x=r,u.y=c,this.snakeContainer.addChild(u)}},e.prototype.addBean=function(t){var e=t.x,n=t.y,o=t.id,r=new u.default(e,n,o);this.addChild(r)},e.prototype.removeBean=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];n instanceof u.default&&n.id===t&&this.removeChild(n)}},e.NAME="game_scene",e}(c.default);e.default=p},263:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=PIXI.Container,a=PIXI.Graphics,c=n(108),s=function(t){function e(e,n,o){var r=t.call(this)||this,i=c.MapConfig.gridColor[o],s=new a;s.lineStyle(2,16706423,1),s.beginFill(i),s.drawRect(0,0,c.MapConfig.gridWidth,c.MapConfig.gridHeight),s.endFill(),r.addChild(s);var u=n*c.MapConfig.gridWidth,l=e*c.MapConfig.gridHeight;return r.x=u,r.y=l,r}return r(e,t),e}(i);e.default=s},331:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=PIXI.Container,a=PIXI.Sprite,c=n(25),s=n(330),u=function(t){function e(){var e,n,o=t.call(this)||this;o.dragging=!1;var r=o;function i(t){r.dragging=!0,r.data=t.data,n.alpha=.5;var e=r.parent.game.stage;e.interactive=!0,e.on("pointermove",l)}function u(t){r.dragging=!1,r.data=null,n.alpha=1,n.position.x=0,n.position.y=0;var e=r.parent.game.stage;e.interactive=!1,e.off("pointermove",l)}function l(t){if(r.dragging){var e=r.data.getLocalPosition(n.parent),o=e.x,i=e.y;n.x=o,n.y=i;var a=function(t,e,n,o){var r=n-0,i=0-o,a=r/Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),c=Math.acos(a);return o<0&&(c=-c),c}(0,0,n.position.x,n.position.y),u=parseInt(String(180/Math.PI*a));console.log("角度="+u);var l=null;u>0&&u<45?l=s.Direction.Right:u>=45&&u<135?l=s.Direction.Down:u>=135&&u<180||u>=-180&&u<-135?l=s.Direction.Left:u>=-135&&u<-45?l=s.Direction.Up:u>=-45&&u<0&&(l=s.Direction.Right),r.parent.emit(c.default.CHANGE_DIRECTION,l);var f=Math.pow(0-o,2),p=Math.pow(0-i,2);Math.sqrt(f+p)}}return o.rockerCircleR=100,o.smallRockerCircleR=55,o.init=function(){(e=a.from("./resources/images/intel-home1-01.png")).x=0,e.y=0,e.width=e.height=200,e.anchor.x=e.anchor.y=.5,this.addChild(e),n=a.from("./resources/images/intel-home1-02.png"),this.addChild(n),n.width=n.height=110,n.anchor.x=n.anchor.y=.5,e.interactive=!0,e.buttonMode=!0,e.on("pointerdown",i).on("pointerup",u).on("pointerupoutside",u)},o}return r(e,t),e}(i);e.default=u},323:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(158),a=PIXI.Text,c=PIXI.Sprite,s=PIXI.Container,u=PIXI.Graphics,l=function(t){function e(e){var n=t.call(this,e)||this;return n._text=null,n._loading=null,n}return r(e,t),e.prototype.init=function(){this.addChild(c.from("./resources/images/sp_main_background.jpg"));var t=new s;this.addChild(t),t.x=(this.stageWidth-300)/2,t.y=this.stageHeight-300;var e=c.from("./resources/images/loading_bg.png");t.addChild(e);var n=new u;n.beginFill(16711680,1),n.drawRoundedRect(0,0,300,53,30),n.endFill(),t.addChild(n);var o=c.from("./resources/images/loading.png");t.addChild(o),o.anchor.set(1,0),o.y=0,o.mask=n,this._loading=o;var r=new a("加载中...",{fill:"#FFFFFF"});this.addChild(r),r.anchor.set(.5,.5),r.x=this.stageWidth/2,r.y=this.stageHeight-300-30,this._text=r,this.emit("init_complete")},e.prototype.setProgress=function(t){window.TweenMax.to(this._loading,.3,{x:t/100*300}),this._text.text="".concat(parseInt(t),"%")},e.NAME="loading_scene",e}(i.default);e.default=l},108:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MapConfig=void 0,e.MapConfig={rows:20,cols:20,gridWidth:32,gridHeight:32,mapData:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],gridColor:{0:"0xffffff",1:"0xe75166",2:"0xab5a2a",3:"0xeecb37",4:"0x8bc830",5:"0xd0d3d4",6:"0x7a6c6c",7:"0xf98d94",8:"0x4d27b0"}}},330:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Direction=void 0;var i,a=puremvc.Proxy,c=n(108),s=c.MapConfig.rows,u=c.MapConfig.cols,l=c.MapConfig.gridWidth,f=c.MapConfig.gridHeight;c.MapConfig.mapData,c.MapConfig.gridColor,function(t){t[t.Up=0]="Up",t[t.Right=1]="Right",t[t.Down=2]="Down",t[t.Left=3]="Left"}(i=e.Direction||(e.Direction={}));var p=[[-1,0],[0,1],[1,0],[0,-1]],d=function(t){function e(n){var o=t.call(this,e.NAME)||this;return o.beans=[],o.snake=[],o.speed=20,o.pause=!0,o.game=null,o.current_direction=i.Right,o.game=n,setTimeout((function(){o.sendNotification(e.UPDATE_LOCATION,o.snake)}),1e3),o}return r(e,t),e.prototype.resetGameData=function(){this.snake=[{row:1,col:4},{row:1,col:3},{row:1,col:2},{row:1,col:1}];for(var t=0;t<30;t++)this.addBean()},e.prototype.move=function(){var t=p[this.current_direction],n=t[0],o=t[1],r=this.snake[0].row,i=this.snake[0].col;this.snake[0].row=r+n,this.snake[0].col=i+o;for(var a=1;a<this.snake.length;a++){var c=this.snake[a].row,s=this.snake[a].col;this.snake[a].row=r,this.snake[a].col=i,r=c,i=s}this.sendNotification(e.UPDATE_LOCATION,this.snake)},e.prototype.check=function(){for(var t=this.snake[0],n=t.row,o=t.col,r=0;r<this.beans.length;r++){var i=this.beans[r],a=i.row,c=i.col,s=i.id;if(n===a&&o===c)return this.beans.splice(r,1),console.log("吃到了！",s),this.sendNotification(e.HIT,s),this.addSnakeBody(),void this.addBean()}},e.prototype.addSnakeBody=function(){this.snake.push({row:-1,col:-1})},e.prototype.addBean=function(){var t=parseInt(String(1e5*Math.random())),n=this.getBeanCoordinate(),o={row:n[0],col:n[1],x:n[2],y:n[3],id:t};this.beans.push(o),this.sendNotification(e.ADD_BEAN,o)},e.prototype.getBeanCoordinate=function(){var t=Math.floor(Math.random()*s),e=Math.floor(Math.random()*u),n=c.MapConfig.mapData[t][e]>0,o=this.beans.some((function(n){return n.row===t&&n.col===e}));return n||o?this.getBeanCoordinate():[t,e,e*f+f/2,t*l+l/2]},e.NAME="game_proxy",e.UPDATE_LOCATION="update_location",e.HIT="hit",e.ADD_BEAN="add_bean",e}(a);e.default=d}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,o),i.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t=o(221),o(738).default.getInstance(t.default.NAME).startup()})();